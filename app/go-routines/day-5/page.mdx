# Context Cancellation, Timeout & Deadline

‡¶ó‡¶§‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶Æ‡¶∞‡¶æ `select` ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶∂‡¶ø‡¶ñ‡ßá‡¶õ‡¶ø‡•§ ‡¶Ü‡¶ú ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡¶ø‡¶ñ‡¶¨‡ßã `goroutine`-‡¶¶‡ßá‡¶∞ control ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶è‡¶¨‡¶Ç ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶ü‡ßÅ‡¶≤: `context`‡•§

-----

### üß† ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º: `context` (‡¶ï‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü)

`context` ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶Ø‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø `goroutine`-‡¶ï‡ßá ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ (‡¶∏‡¶Ç‡¶ï‡ßá‡¶§) ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶è‡¶á ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá:

  * **‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡ßá‡¶∂‡¶® (Cancellation):** "‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶è‡¶ñ‡¶® ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßã‡•§"
  * **‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü (Timeout):** "‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶Ø‡¶¶‡¶ø ‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∂‡ßá‡¶∑ ‡¶®‡¶æ ‡¶π‡ßü, ‡¶§‡¶¨‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶ì‡•§"
  * **‡¶°‡ßá‡¶°‡¶≤‡¶æ‡¶á‡¶® (Deadline):** "‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶∞‡¶æ‡¶§ ‡ßß‡ßß:‡ß´‡ßØ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá, ‡¶®‡¶æ ‡¶π‡¶≤‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶ì‡•§"

`Context`-‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡¶æ‡¶ú ‡¶π‡¶≤‡ßã `goroutine`-‡¶¶‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ "‡¶≤‡¶æ‡¶á‡¶´‡¶∏‡¶æ‡¶á‡¶ï‡ßá‡¶≤" ‡¶¨‡¶æ ‡¶ú‡ßÄ‡¶¨‡¶®‡¶ï‡¶æ‡¶≤ ‡¶¨‡ßá‡¶Å‡¶ß‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ‡•§

-----

### üíß ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: Goroutine Leak

`Context` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶π‡¶≤‡ßã **Goroutine Leak** (‡¶ó‡ßã‡¶∞‡ßÅ‡¶ü‡¶ø‡¶® ‡¶≤‡¶ø‡¶ï) ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶æ‡•§

‡¶è‡¶ï‡¶ü‡¶ø "‡¶≤‡¶ø‡¶ï" ‡¶§‡¶ñ‡¶® ‡¶ò‡¶ü‡ßá ‡¶Ø‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø `goroutine` ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡ßá‡¶® ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶∏‡ßá‡¶ü‡¶ø ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶Ø‡¶æ‡¶® (‡¶¨‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶® ‡¶®‡¶æ)‡•§ `goroutine`-‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá ‡¶ö‡¶≤‡¶§‡ßá‡¶á ‡¶•‡¶æ‡¶ï‡ßá ‡¶è‡¶¨‡¶Ç ‡¶Æ‡ßá‡¶Æ‡ßã‡¶∞‡¶ø ‡¶ì CPU ‡¶Ö‡¶™‡¶ö‡ßü ‡¶ï‡¶∞‡ßá‡•§

**‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:** ‡¶ß‡¶∞‡ßÅ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ì‡ßü‡ßá‡¶¨ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶è‡¶ï‡¶ú‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶≤‡ßã‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø `goroutine` ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡¶≤‡ßá‡¶® ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§ ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶≤‡ßã (‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶≤‡ßã)‡•§

  * **`Context` ‡¶õ‡¶æ‡ßú‡¶æ:** ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ `goroutine`-‡¶ü‡¶ø ‡¶ö‡¶≤‡¶§‡ßá‡¶á ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§ ‡¶∏‡ßá ‡¶ú‡¶æ‡¶®‡ßá ‡¶®‡¶æ ‡¶Ø‡ßá ‡¶§‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶Ü‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶®‡ßá‡¶á‡•§ ‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≤‡¶ø‡¶ï‡•§
  * **`Context` ‡¶∏‡¶π:** ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá `context` ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ `goroutine`-‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø "‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßã" ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶¨‡ßá‡•§ `goroutine`-‡¶ü‡¶ø ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶¨‡ßá‡•§

-----

### üéÆ `Context`-‡¶è‡¶∞ ‡¶ß‡¶∞‡¶£

Go-‡¶§‡ßá `context` ‡¶™‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶ú‡¶ü‡¶ø ‡¶è‡¶á ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡ßü‡•§

#### ‡ßß. `context.Background()`

‡¶è‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶∏‡¶¨ `context`-‡¶è‡¶∞ "‡¶Æ‡ßÇ‡¶≤" ‡¶¨‡¶æ "root"‡•§ ‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ñ‡¶æ‡¶≤‡¶ø `context`, ‡¶Ø‡¶æ ‡¶ï‡¶ñ‡¶®‡ßã ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü ‡¶®‡¶æ, ‡¶è‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶®‡ßá‡¶á‡•§ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ `main` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶¨‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶è‡¶ü‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§

#### ‡ß®. `context.WithCancel(parentContext)`

‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø `parentContext` (‡¶Ø‡ßá‡¶Æ‡¶® `Background()`) ‡¶®‡ßá‡ßü ‡¶è‡¶¨‡¶Ç ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶ú‡¶ø‡¶®‡¶ø‡¶∏ ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡ßá:

1.  ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶§‡ßÅ‡¶® **child context** (`ctx`)‡•§
2.  ‡¶è‡¶ï‡¶ü‡¶ø **`cancel` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®** (`cancel`)‡•§

‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶ñ‡¶®‡¶á `cancel()` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ü‡¶ø ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®, ‡¶§‡¶ñ‡¶® `ctx`-‡¶ï‡ßá ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá‡•§

#### ‡ß©. `context.WithTimeout(parentContext, duration)`

‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü (duration) ‡¶™‡¶∞ ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: `time.Second * 3` (‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°)‡•§

#### ‡ß™. `context.WithDeadline(parentContext, time)`

‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü‡ßá (time) ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: `time.Now().Add(5 * time.Minute)` (‡¶è‡¶ñ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶∞)‡•§

-----

### üì° `Context` ‡¶Ø‡ßá‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá

`Context`-‡¶è‡¶∞ ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶Æ‡ßÇ‡¶≤ ‡¶Ö‡¶Ç‡¶∂: ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶æ‡•§

**‡ßß. ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã (‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶ï‡¶∞‡¶æ):**
`WithCancel`-‡¶è‡¶∞ `cancel()` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá, ‡¶Ö‡¶•‡¶¨‡¶æ `WithTimeout`-‡¶è‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∂‡ßá‡¶∑ ‡¶π‡¶≤‡ßá `context` ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§

**‡ß®. ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶æ (`ctx.Done()`):**
‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø `context`-‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø `.Done()` ‡¶Æ‡ßá‡¶•‡¶° ‡¶Ü‡¶õ‡ßá, ‡¶Ø‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø **‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤** ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡•§

  * `Context` ‡¶Ø‡¶§‡¶ï‡ßç‡¶∑‡¶£ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶è‡¶á ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡¶ü‡¶ø ‡¶¨‡ßç‡¶≤‡¶ï ‡¶•‡¶æ‡¶ï‡ßá‡•§
  * `Context` ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶á ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡¶ü‡¶ø **‡¶¨‡¶®‡ßç‡¶ß (closed)** ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§

‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ú‡¶æ‡¶®‡¶ø, ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡¶®‡ßç‡¶ß ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡¶ø‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßá ‡¶§‡¶æ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶∞‡¶ø‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶ï‡¶∞‡ßá‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶á ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡¶ü‡¶ø `select`-‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶ø:

```go
select {
case <-ctx.Done():
    // Context ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶¨‡¶æ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶≤)!
    // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá, ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
    fmt.Println("‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶õ‡¶ø...")
    return // goroutine ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡ßá‡¶∞ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶á
default:
    // Context ‡¶è‡¶ñ‡¶®‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶ü‡¶ø‡¶≠ ‡¶Ü‡¶õ‡ßá, ‡¶ï‡¶æ‡¶ú ‡¶ö‡¶æ‡¶≤‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡¶á
    fmt.Println("‡¶ï‡¶æ‡¶ú ‡¶ö‡¶≤‡¶õ‡ßá...")
}
```

-----

### üîó Context Propagation (‡¶™‡ßç‡¶∞‡ßã‡¶™‡¶æ‡¶ó‡ßá‡¶∂‡¶®)

‡¶è‡¶ü‡¶ø `context`-‡¶è‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶¨‡ßà‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡ßç‡¶Ø‡•§

> ‡¶Ø‡¶ñ‡¶® ‡¶è‡¶ï‡¶ü‡¶ø Parent Context ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü, ‡¶§‡¶ñ‡¶® ‡¶§‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶∏‡¶¨ Child Context-‡¶ì ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§

‡¶è ‡¶ï‡¶æ‡¶∞‡¶£‡ßá‡¶á `context` ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá‡¶∞ **‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶Ü‡¶∞‡ßç‡¶ó‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü** ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü: `func myWorker(ctx context.Context, otherArg string)`‡•§

  * `main` ‡¶è‡¶ï‡¶ü‡¶ø `ctx` ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡•§
  * `main` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßá `funcA(ctx)`‡•§
  * `funcA` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßá `funcB(ctx)`‡•§
  * `funcB` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡ßá `funcC(ctx)`‡•§

‡¶Ø‡¶¶‡¶ø `main` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® `ctx`-‡¶ï‡ßá ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶ï‡¶∞‡ßá (‡¶Ø‡ßá‡¶Æ‡¶®, ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶π‡¶≤‡ßã), ‡¶∏‡ßá‡¶á ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤‡¶ü‡¶ø `funcA`, `funcB`, ‡¶è‡¶¨‡¶Ç `funcC`-‡¶§‡ßá ‡¶•‡¶æ‡¶ï‡¶æ ‡¶∏‡¶¨ `goroutine`-‡¶è‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶™‡ßå‡¶Å‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá (`<-ctx.Done()`)‡•§ ‡¶∏‡¶¨‡¶æ‡¶á ‡¶è‡¶ï‡¶Ø‡ßã‡¶ó‡ßá ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá‡•§

-----

### üíª ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® (Exercises)

‡¶Ü‡¶∏‡ßÅ‡¶®, ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ ‡¶ï‡ßã‡¶° ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡¶ø‡•§

#### ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡ßß ‡¶è‡¶¨‡¶Ç ‡ß®: `WithTimeout` (‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶≤ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü)

‡¶è‡¶á ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶®‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø `worker` ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶¨ ‡¶Ø‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø `context` ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¶‡ßá‡¶ñ‡¶¨ ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶è‡¶ü‡¶ø ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§

```go
package main

import (
	"context"
	"fmt"
	"time"
)

// worker ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶ø goroutine ‡¶Ø‡¶æ context ‡¶∂‡ßá‡¶∑ ‡¶®‡¶æ ‡¶π‡¶ì‡ßü‡¶æ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá
func worker(ctx context.Context, name string) {
	fmt.Printf("üë∑ %s: ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ...\n", name)
	for {
		select {
		case <-ctx.Done():
			// ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø!
			fmt.Printf("üõë %s: ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ, ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶õ‡¶ø‡•§\n", name)
			return // goroutine ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶®

		default:
			// Context ‡¶†‡¶ø‡¶ï ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ö‡¶æ‡¶≤‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡¶á
			fmt.Printf("‚öôÔ∏è %s: ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶õ‡¶ø...\n", name)
			time.Sleep(1 * time.Second) // ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶®
		}
	}
}

func main() {
	// ‡ßß. ‡¶è‡¶ï‡¶ü‡¶ø parent context ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶ø
	parentCtx := context.Background()

	// ‡ß®. ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶∏‡¶π child context ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶ø
	ctx, cancel := context.WithTimeout(parentCtx, 3*time.Second)
	
	// ‡ß©. (‡¶ñ‡ßÅ‡¶¨‡¶á ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£) ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑‡ßá cancel() ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ
	// ‡¶è‡¶ü‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá context-‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡¶¨ ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá‡•§
	// ‡¶Ø‡¶¶‡¶ø‡¶ì ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶π‡¶≤‡ßá ‡¶è‡¶ü‡¶ø ‡¶®‡¶ø‡¶ú‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶π‡¶¨‡ßá, 
	// ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶Ø‡¶¶‡¶ø worker ‡¶Ü‡¶ó‡ßá ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßá, ‡¶§‡¶¨‡ßá defer cancel() ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶≤‡¶ø‡¶ï ‡¶†‡ßá‡¶ï‡¶æ‡ßü‡•§
	defer cancel()

	fmt.Println("üöÄ main: ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡¶õ‡¶ø (‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü)...")
	go worker(ctx, "Worker-1")

	// main goroutine-‡¶ï‡ßá ‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶∞‡¶æ‡¶ñ‡¶ø ‡¶Ø‡¶æ‡¶§‡ßá worker-‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø
	time.Sleep(5 * time.Second) 
	fmt.Println("üëã main: ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∂‡ßá‡¶∑‡•§")
}
```

**‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü:**

```
üöÄ main: ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶ï‡¶∞‡¶õ‡¶ø (‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü)...
üë∑ Worker-1: ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ...
‚öôÔ∏è Worker-1: ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶õ‡¶ø...
‚öôÔ∏è Worker-1: ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶õ‡¶ø...
‚öôÔ∏è Worker-1: ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶õ‡¶ø...
üõë Worker-1: ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡ßá‡¶≤‡¶æ‡¶Æ, ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶õ‡¶ø‡•§
üëã main: ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∂‡ßá‡¶∑‡•§
```

*‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£:* `Worker-1` ‡¶†‡¶ø‡¶ï ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶™‡¶∞ `<-ctx.Done()` ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡¶æ‡ßü ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§

-----

#### ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡ß©, ‡ß™ ‡¶è‡¶¨‡¶Ç ‡ß´: Context ‡¶ö‡ßá‡¶á‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡ßá‡¶∂‡¶®

‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶¶‡ßá‡¶ñ‡¶¨ `context` ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá (‡¶ö‡ßá‡¶á‡¶®) ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡ßá‡¶∂‡¶® ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡•§

```go
package main

import (
	"context"
	"fmt"
	"time"
)

// step3: ‡¶Ü‡¶∏‡¶≤ ‡¶ï‡¶æ‡¶ú ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶π‡ßü (‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶∏‡¶ø‡¶Æ‡ßÅ‡¶≤‡ßá‡¶∂‡¶®)
func step3(ctx context.Context) {
	fmt.Println("  [Step 3]: ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ... (‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá)")
	select {
	case <-time.After(2 * time.Second):
		// ‡¶ï‡¶æ‡¶ú ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®
		fmt.Println("  [Step 3]: ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶∏‡¶´‡¶≤‡•§")
	case <-ctx.Done():
		// ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶è‡¶≤‡ßã
		fmt.Println("  [Step 3]: üõë ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡¶°!")
	}
}

// step2: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶ï‡¶∞‡ßá
func step2(ctx context.Context) {
	fmt.Println(" [Step 2]: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ...")
	// ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ (Early exit)
	if ctx.Err() != nil {
		fmt.Println(" [Step 2]: üõë ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá‡¶á ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤ ‡¶õ‡¶ø‡¶≤‡ßã, ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶á ‡¶ï‡¶∞‡¶≤‡¶æ‡¶Æ ‡¶®‡¶æ‡•§")
		return
	}
	
	step3(ctx) // context ‡¶®‡¶ø‡¶ö‡ßá ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ
	fmt.Println(" [Step 2]: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßá‡¶∑‡•§")
}

// step1: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤ ‡¶ï‡¶∞‡ßá
func step1(ctx context.Context) {
	fmt.Println("[Step 1]: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ...")
	step2(ctx) // context ‡¶®‡¶ø‡¶ö‡ßá ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ
	fmt.Println("[Step 1]: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶∂‡ßá‡¶∑‡•§")
}

func main() {
	// === ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ßß: ‡¶∏‡¶´‡¶≤ (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á ‡¶ï‡¶æ‡¶ú ‡¶∂‡ßá‡¶∑) ===
	fmt.Println("--- ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ßß: ‡¶∏‡¶´‡¶≤ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ---")
	ctxSuccess, cancelSuccess := context.WithTimeout(context.Background(), 3*time.Second)
	defer cancelSuccess()
	step1(ctxSuccess)

	fmt.Println("\n--- ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ß®: ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡¶° (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ---")
	// === ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ß®: ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡¶° (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤) ===
	ctxTimeout, cancelTimeout := context.WithTimeout(context.Background(), 1*time.Second)
	defer cancelTimeout()
	step1(ctxTimeout)
	
	// ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶¨ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ
	time.Sleep(2 * time.Second) 
	fmt.Println("--- ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∂‡ßá‡¶∑ ---")
}
```

**‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü:**

```
--- ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ßß: ‡¶∏‡¶´‡¶≤ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ---
[Step 1]: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ...
 [Step 2]: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ...
  [Step 3]: ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ... (‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá)
  [Step 3]: ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶∏‡¶´‡¶≤‡•§
 [Step 2]: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßá‡¶∑‡•§
[Step 1]: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶∂‡ßá‡¶∑‡•§

--- ‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ß®: ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡¶° (‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ---
[Step 1]: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ...
 [Step 2]: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶∞‡ßÅ...
  [Step 3]: ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ... (‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá)
  [Step 3]: üõë ‡¶°‡ßá‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡¶°!
 [Step 2]: ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶∂‡ßá‡¶∑‡•§
[Step 1]: ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡ßá‡¶≤‡¶ø‡¶Ç ‡¶∂‡ßá‡¶∑‡•§
--- ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∂‡ßá‡¶∑ ---
```

*‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£:*

  * **‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ßß:** ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶õ‡¶ø‡¶≤‡ßã, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ `step3`-‡¶è‡¶∞ ‡¶ï‡¶æ‡¶ú ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§ ‡¶§‡¶æ‡¶á `<-ctx.Done()` ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á `<-time.After()` ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤‡¶ü‡¶ø ‡¶ú‡¶ø‡¶§‡ßá‡¶õ‡ßá‡•§
  * **‡¶∏‡¶ø‡¶®‡¶æ‡¶∞‡¶ø‡¶ì ‡ß®:** ‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶ü‡¶æ‡¶á‡¶Æ‡¶Ü‡¶â‡¶ü ‡¶õ‡¶ø‡¶≤‡ßã, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ `step3`-‡¶è‡¶∞ ‡¶ï‡¶æ‡¶ú ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶≤‡¶æ‡¶ó‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ‡•§ `select` ‡¶∏‡ßç‡¶ü‡ßá‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶≤‡ßã ‡¶Ø‡ßá `<-ctx.Done()` (‡ßß ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤‡¶ü‡¶ø `<-time.After()` (‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°) ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶∞ *‡¶Ü‡¶ó‡ßá* ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶§‡¶æ‡¶á ‡¶è‡¶ü‡¶ø ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶∏‡ßá‡¶≤‡ßá‡¶∂‡¶® ‡¶™‡¶æ‡¶•‡¶ü‡¶ø ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶≤‡ßã‡•§

-----

### üö´ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶≠‡ßÅ‡¶≤ ‡¶è‡¶¨‡¶Ç ‚úÖ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞

`Context` ‡¶ñ‡ßÅ‡¶¨ ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ü‡¶ø ‡¶≠‡ßÅ‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶ì ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶π‡¶ú‡•§

| ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶≠‡ßÅ‡¶≤ (Avoid) | ‚úÖ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ (Do) |
| :--- | :--- |
| `context` ‡¶è‡¶ï‡¶ü‡¶ø struct-‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡¶æ‡•§ | `context`-‡¶ï‡ßá ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá‡¶∞ **‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶Ü‡¶∞‡ßç‡¶ó‡ßÅ‡¶Æ‡ßá‡¶®‡ßç‡¶ü** ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®: `func(ctx context.Context, ...)`‡•§ |
| `context.Background()` ‡¶∏‡¶¨ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡•§ | `context.Background()` ‡¶∂‡ßÅ‡¶ß‡ßÅ `main` ‡¶¨‡¶æ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶∏‡¶¨ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ `ctx` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ |
| `cancel()` ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ï‡¶≤ ‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ‡•§ | `defer cancel()` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ `context.With...` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá‡¶á `defer cancel()` ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶®‡•§ ‡¶è‡¶ü‡¶ø ‡¶∞‡¶ø‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶≤‡¶ø‡¶ï ‡¶†‡ßá‡¶ï‡¶æ‡ßü‡•§ |
| `context.TODO()` ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶® ‡¶ï‡ßã‡¶°‡ßá ‡¶∞‡ßá‡¶ñ‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ‡•§ | `TODO()` ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶§‡¶ñ‡¶®‡¶á ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ø‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶®‡¶® ‡¶ï‡ßã‡¶® `context` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® (‡¶è‡¶¨‡¶Ç ‡¶™‡¶∞‡ßá ‡¶§‡¶æ ‡¶†‡¶ø‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá‡¶®)‡•§ |
| `nil` context ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ‡•§ | `nil` ‡¶™‡¶æ‡¶∏ ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá, ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã `context` ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá ‡¶§‡¶¨‡ßá `context.Background()` ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ |
| `context`-‡¶è‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ (`WithValue`)‡•§ | `WithValue` ‡¶è‡ßú‡¶ø‡ßü‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®, ‡¶Ø‡¶¶‡¶ø ‡¶®‡¶æ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü-‡¶∏‡ßç‡¶ï‡ßã‡¶™‡¶° ‡¶°‡ßá‡¶ü‡¶æ (‡¶Ø‡ßá‡¶Æ‡¶® trace ID, user ID) ‡¶™‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶π‡ßü‡•§ ‡¶è‡¶ü‡¶ø ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶Ç‡ßü‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡ßü‡•§ |




‡¶ö‡¶Æ‡ßé‡¶ï‡¶æ‡¶∞ Saleh! üåü
‡¶Ü‡¶ú ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶õ‡¶ø **Go Concurrency ‚Äî Day 5: Context Cancellation, Timeout & Deadline**

‡¶è‡¶á ‡¶ü‡¶™‡¶ø‡¶ï‡¶ü‡¶æ ‡¶π‡¶≤‡ßã Go-‡¶∞ **real-world concurrency control** ‡¶è‡¶∞ backbone‡•§
‡¶è‡¶ü‡¶æ ‡¶ú‡¶æ‡¶®‡¶≤‡ßá ‡¶§‡ßÅ‡¶Æ‡¶ø goroutine leak, resource waste, ‡¶è‡¶¨‡¶Ç uncontrolled execution ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶≠‡¶æ‡¶¨‡ßá ‡¶®‡¶ø‡ßü‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡•§

---

## üéØ **Goal:**

‡¶ó‡ßã ‡¶∞‡ßÅ‡¶ü‡¶ø‡¶®‡¶ï‡ßá **‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶ì ‡¶•‡¶æ‡¶Æ‡¶æ‡¶®‡ßã** ‡¶∂‡ßá‡¶ñ‡¶æ,
‡¶Ø‡¶ñ‡¶® ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶∂‡ßá‡¶∑ ‚Äî ‡¶§‡¶ñ‡¶® ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ **gracefully ‡¶¨‡¶®‡ßç‡¶ß** ‡¶ï‡¶∞‡¶æ‡•§

---

## üß† **Topics Breakdown (‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§‡¶≠‡¶æ‡¶¨‡ßá)**

### üîπ 1. `context.Background()`

üëâ ‡¶è‡¶ü‡¶æ ‡¶π‡¶≤‡ßã **root context** ‚Äî
‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá (main, server, etc.) ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶¨ context ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡•§

```go
ctx := context.Background()
```

üìò ‡¶è‡¶ü‡¶æ **‡¶ï‡¶ñ‡¶®‡ßã cancel ‡¶π‡ßü ‡¶®‡¶æ**, ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ main entry point ‡¶è ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü‡•§
‡¶è‡¶∞ ‡¶ì‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá‡¶á `WithCancel`, `WithTimeout` ‡¶¨‡¶æ `WithDeadline` context ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§

---

### üîπ 2. `context.WithCancel(parent)`

üëâ ‡¶è‡¶á ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶è‡¶ï‡¶ü‡¶æ ‡¶®‡¶§‡ßÅ‡¶® context ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶ü‡¶æ cancel function ‡¶¶‡ßá‡ßü‡•§
`cancel()` ‡¶ï‡¶≤ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡ßá‡¶á context **‡¶è‡¶¨‡¶Ç ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶¨ child context** cancel ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü‡•§

```go
ctx, cancel := context.WithCancel(context.Background())

go func() {
    <-time.After(3 * time.Second)
    cancel() // cancel after 3 seconds
}()

<-ctx.Done()
fmt.Println("Context canceled:", ctx.Err())
```

üß© Output:

```
Context canceled: context canceled
```

üß† **‡¶Æ‡ßÇ‡¶≤ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ:** context ‡¶π‡¶≤‡ßã "signal channel" ‚Äî cancel ‡¶π‡¶≤‡ßá ‡¶∏‡¶¨ goroutine ‡¶¨‡ßÅ‡¶ù‡ßá ‡¶Ø‡¶æ‡ßü ‚Äú‡¶•‡¶æ‡¶Æ‡ßã‚Äù‡•§

---

### üîπ 3. `context.WithTimeout(parent, duration)`

üëâ ‡¶è‡¶á‡¶ü‡¶æ ‡¶π‡¶≤‡ßã ‚Äúauto-cancel‚Äù ‡¶ï‡¶∞‡¶æ context ‚Äî
‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü ‡¶™‡¶∞‡ßá **‡¶®‡¶ø‡¶ú‡ßá ‡¶•‡ßá‡¶ï‡ßá‡¶á cancel ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü**‡•§

```go
ctx, cancel := context.WithTimeout(context.Background(), 3*time.Second)
defer cancel()

select {
case <-time.After(5 * time.Second):
    fmt.Println("Work finished")
case <-ctx.Done():
    fmt.Println("Timeout:", ctx.Err())
}
```

üß© Output:

```
Timeout: context deadline exceeded
```

üß† ‡¶Æ‡¶æ‡¶®‡ßá ‡ß© ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶ï‡¶æ‡¶ú ‡¶®‡¶æ ‡¶π‡¶≤‡ßá context ‡¶®‡¶ø‡¶ú‡ßá‡¶á cancel ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡ßü‡•§

---

### üîπ 4. `context.WithDeadline(parent, timePoint)`

üëâ `WithTimeout` ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã‡¶á, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü (clock time) ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ wait ‡¶ï‡¶∞‡ßá‡•§

```go
deadline := time.Now().Add(2 * time.Second)
ctx, cancel := context.WithDeadline(context.Background(), deadline)
defer cancel()
```

---

### üîπ 5. `ctx.Done()`

üëâ `ctx.Done()` ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶ü‡¶æ **channel** ‡¶Ø‡¶æ close ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡ßü ‡¶Ø‡¶ñ‡¶® context cancel ‡¶π‡ßü‡•§

```go
select {
case <-ctx.Done():
    fmt.Println("üõë Stopped:", ctx.Err())
}
```

üß† ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá goroutine ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‚Äî
‚Äú‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§‚Äù

---

## üß© Context Propagation ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá?

Context ‡¶π‡¶≤‡ßã **parent ‚Üí child chain**.

```
Background()
   ‚îî‚îÄ‚îÄ WithCancel()
         ‚îî‚îÄ‚îÄ WithTimeout()
               ‚îî‚îÄ‚îÄ WithDeadline()
```

‡¶Ø‡¶¶‡¶ø parent cancel ‡¶π‡ßü ‚Üí ‡¶∏‡¶¨ child context ‡¶ì cancel ‡¶π‡ßü‡•§
‡¶è‡¶ü‡¶æ‡¶á ‡¶¨‡¶≤‡ßá **propagation**‡•§

---

## ‚öôÔ∏è ‡¶ï‡ßá‡¶® Context ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá‡¶∞ **‡¶™‡ßç‡¶∞‡¶•‡¶Æ argument** ‡¶π‡ßü?

üëâ ‡¶ï‡¶æ‡¶∞‡¶£ Go design principle ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ context ‡¶π‡¶≤‡ßã **request-scoped metadata**‡•§
‡¶è‡¶ü‡¶æ function ‡¶è‡¶∞ lifecycle ‡¶®‡¶ø‡ßü‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡•§

‚úÖ Best Practice:

```go
func fetchData(ctx context.Context, url string) error
```

‚ùå Wrong:

```go
func fetchData(url string, ctx context.Context)
```

üß† **‡¶ï‡¶æ‡¶∞‡¶£:** Context ‡¶∏‡¶∞‡ßç‡¶¨‡¶¶‡¶æ ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï ‡¶•‡ßá‡¶ï‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¶‡¶ø‡¶ï‡ßá propagate ‡¶π‡ßü‡•§

---

## üí° Context ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá Goroutine Leak ‡¶Ü‡¶ü‡¶ï‡¶æ‡ßü

**Goroutine leak** ‡¶π‡ßü ‡¶Ø‡¶ñ‡¶® goroutine cancel signal ‡¶®‡¶æ ‡¶™‡ßá‡ßü‡ßá ‡¶ö‡¶ø‡¶∞‡¶¶‡¶ø‡¶® ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßá‡•§

‚ùå ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:

```go
func worker(ch <-chan int) {
    for v := range ch {
        fmt.Println(v)
    }
}
```

‡¶Ø‡¶¶‡¶ø `ch` ‡¶ï‡¶ñ‡¶®‡ßã close ‡¶®‡¶æ ‡¶π‡ßü ‚Üí goroutine ‡¶ö‡¶ø‡¶∞‡¶¶‡¶ø‡¶® block ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§

‚úÖ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: Context ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡¶æ‡•§

```go
func worker(ctx context.Context, ch <-chan int) {
    for {
        select {
        case v := <-ch:
            fmt.Println(v)
        case <-ctx.Done():
            fmt.Println("Worker stopped")
            return
        }
    }
}
```

---

## üíª **Exercises**

### üß© 1Ô∏è‚É£ Goroutine that stops when context is canceled

```go
package main

import (
    "context"
    "fmt"
    "time"
)

func main() {
    ctx, cancel := context.WithCancel(context.Background())

    go func() {
        for {
            select {
            case <-ctx.Done():
                fmt.Println("üõë Goroutine stopped")
                return
            default:
                fmt.Println("üèÉ Running...")
                time.Sleep(500 * time.Millisecond)
            }
        }
    }()

    time.Sleep(2 * time.Second)
    cancel() // stop after 2 seconds
    time.Sleep(1 * time.Second)
}
```

---

### üß© 2Ô∏è‚É£ WithTimeout ‚Äî stop after 3 seconds

```go
ctx, cancel := context.WithTimeout(context.Background(), 3*time.Second)
defer cancel()

go func() {
    for {
        select {
        case <-ctx.Done():
            fmt.Println("‚è∞ Timeout reached:", ctx.Err())
            return
        default:
            fmt.Println("‚öôÔ∏è Working...")
            time.Sleep(500 * time.Millisecond)
        }
    }
}()
time.Sleep(4 * time.Second)
```

---

### üß© 3Ô∏è‚É£ Chain 3 Goroutines passing context downstream

```go
func worker(ctx context.Context, name string) {
    for {
        select {
        case <-ctx.Done():
            fmt.Println(name, "stopped")
            return
        default:
            fmt.Println(name, "working...")
            time.Sleep(700 * time.Millisecond)
        }
    }
}

func main() {
    ctx, cancel := context.WithTimeout(context.Background(), 3*time.Second)
    defer cancel()

    go worker(ctx, "üß± Worker 1")
    go worker(ctx, "üîß Worker 2")
    go worker(ctx, "‚öôÔ∏è Worker 3")

    <-ctx.Done()
    fmt.Println("All workers stopped:", ctx.Err())
}
```

---

### üß© 4Ô∏è‚É£ Cleanup with `<-ctx.Done()`

```go
select {
case <-ctx.Done():
    fmt.Println("Cleaning up resources...")
    return
}
```

---

### üß© 5Ô∏è‚É£ Worker respecting cancellation

```go
func worker(ctx context.Context, id int) {
    for {
        select {
        case <-ctx.Done():
            fmt.Printf("Worker %d shutting down\n", id)
            return
        default:
            fmt.Printf("Worker %d doing work\n", id)
            time.Sleep(500 * time.Millisecond)
        }
    }
}

func main() {
    ctx, cancel := context.WithTimeout(context.Background(), 2*time.Second)
    defer cancel()

    for i := 1; i <= 3; i++ {
        go worker(ctx, i)
    }

    <-ctx.Done()
    fmt.Println("üõë All workers canceled:", ctx.Err())
}
```

---

## ‚ö†Ô∏è Common Mistakes & Correct Usage

| ‡¶≠‡ßÅ‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‚ùå                    | ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‚úÖ                           |
| -------------------------------- | ---------------------------------------- |
| Context ‡¶®‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã                | ‡¶∏‡¶¨ goroutine/fn-‡¶è context ‡¶™‡¶æ‡¶†‡¶æ‡¶ì          |
| Context ‡¶∂‡ßá‡¶∑‡ßá‡¶ì cancel() ‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ    | ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü `defer cancel()` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã       |
| cancel() ‡¶®‡¶æ ‡¶°‡¶æ‡¶ï‡¶æ                 | resource leak ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá                   |
| context child chain ‡¶®‡¶æ ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã    | parent ‚Üí child propagation ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã   |
| `context.TODO()` ‡¶≠‡ßÅ‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ | ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ placeholder ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßã |
| `<-ctx.Done()` ignore ‡¶ï‡¶∞‡¶æ        | ‡¶∏‡¶¨ worker ‡¶è respect ‡¶ï‡¶∞‡¶æ ‡¶â‡¶ö‡¶ø‡¶§             |

---

## üßæ **Summary (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡ßü ‡¶∏‡¶æ‡¶∞‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™)**

| ‡¶¨‡¶ø‡¶∑‡ßü                   | ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ                                      |
| ---------------------- | ------------------------------------------- |
| `context.Background()` | root context                                |
| `WithCancel`           | manual cancel                               |
| `WithTimeout`          | ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü ‡¶™‡¶∞ auto-cancel                |
| `WithDeadline`         | ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ valid                 |
| `ctx.Done()`           | context cancel signal                       |
| `ctx.Err()`            | ‡¶ï‡ßá‡¶® cancel ‡¶π‡¶≤‡ßã                              |
| Context chain          | parent cancel ‡¶π‡¶≤‡ßá ‡¶∏‡¶¨ child cancel           |
| Leak prevention        | goroutine cancel signal ‡¶™‡ßá‡¶≤‡ßá safely stop ‡¶π‡ßü |

---

‡¶ö‡¶æ‡¶ì ‡¶ï‡¶ø ‡¶Ü‡¶Æ‡¶ø ‡¶è‡¶ñ‡¶® ‡¶è‡¶ï‡¶ü‡¶æ **flow diagram** ‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡ßá ‡¶¶‡¶ø‡¶á ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá `WithCancel ‚Üí WithTimeout ‚Üí ctx.Done()` ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá propagate ‡¶π‡ßü ‡¶è‡¶¨‡¶Ç goroutine ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá stop signal ‡¶™‡¶æ‡ßü?
