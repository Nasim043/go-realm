## ЁЯЯз **DAY 2: Linux + Container Reality (Minimal but Critical)**

### ЁЯОп **ржЖржЬржХрзЗрж░ рж▓ржХрзНрж╖рзНржп**:
Docker crash рж╣рж▓рзЗ panic ржирж╛ ржХрж░рж╛ред Docker ржХржирзНржЯрзЗржЗржирж╛рж░ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ, рждрж╛рж░ ржЬржирзНржп ржкрзНрж░рзЯрзЛржЬржирзАрзЯ **Linux process model** ржУ **Container concepts** ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ ржмрзБржЭрж╛ред

---

### ЁЯУМ **Topics**:

#### 1. **Linux Process Model (Basic)**
- **Linux Process Model**: рж▓рж┐ржирж╛ржХрзНрж╕рзЗрж░ ржоржзрзНржпрзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж░рж╛ржирж┐ржВ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржмрж╛ ржкрзНрж░рзЛржЧрзНрж░рж╛ржо ржПржХржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржЪрж▓ржорж╛ржи ржерж╛ржХрзЗред 
- ржПржХржЯрж┐ ржкрзНрж░рж╕рзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ **PID (Process ID)** ржерж╛ржХрзЗ, ржпрж╛ рждрж╛ржХрзЗ ржЗржЙржирж┐ржХржнрж╛ржмрзЗ ржЪрж┐рж╣рзНржирж┐ржд ржХрж░рзЗред 
- ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╕рзЗрж╕рзЗрж░ рж╕рж╛ржерзЗ ржХрж┐ржЫрзБ ржХржирж╕рзЗржкрзНржЯ ржпрзБржХрзНржд ржерж╛ржХрзЗ, ржпрзЗржоржи:
  - **Forking**: ржпржЦржи ржПржХржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ ржирждрзБржи рж╕рж╛ржм-ржкрзНрж░рж╕рзЗрж╕ рждрзИрж░рж┐ ржХрж░рзЗ, рждржЦржи рж╕рзЗржЯрж┐ ржПржХржЯрж┐ ржирждрзБржи ржкрзНрж░рж╕рзЗрж╕ рждрзИрж░рж┐ ржХрж░рзЗред
  - **Signal Handling**: ржкрзНрж░рж╕рзЗрж╕рзЗ рж╕рж┐ржЧржирзНржпрж╛рж▓ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ ржмрж┐ржнрж┐ржирзНржи рж░ржХржорзЗрж░ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЬржирзНржп (ржпрзЗржоржи, ржкрзНрж░рж╕рзЗрж╕ ржмржирзНржз ржХрж░рж╛, ржкрзБржирж░рж╛рзЯ ржЪрж╛рж▓рж╛ржирзЛ, ржЗрждрзНржпрж╛ржжрж┐)ред

#### 2. **Container = Isolated Process**
- **Container** ржЖрж╕рж▓рзЗ ржПржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ рж▓рж┐ржирж╛ржХрзНрж╕ ржкрзНрж░рж╕рзЗрж╕, ржпрж╛ **Isolation** ржжрж┐рзЯрзЗ ржЪрж▓ржЫрзЗред ржпржЦржи рждрзБржорж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ рж░рж╛ржи ржХрж░рзЛ, ржПржЯрж┐ ржПржХржЯрж┐ рж▓рж┐ржирж╛ржХрзНрж╕ ржкрзНрж░рж╕рзЗрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ржХрж┐ржирзНрждрзБ рж╣рзЛрж╕рзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ ржерж╛ржХрзЗред
- ржПрж░ ржорж╛ржирзЗ рж╣рж▓рзЛ ржпрзЗ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржнрж┐рждрж░ ржпрж╛ ржХрж┐ржЫрзБ ржШржЯржмрзЗ, рж╕рзЗржЯрж╛ рж╣рзЛрж╕рзНржЯ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржХрзЛржирзЛ ржкрзНрж░ржнрж╛ржм ржлрзЗрж▓ржмрзЗ ржирж╛, ржпрждржХрзНрж╖ржг ржирж╛ рждрзБржорж┐ рж╕рж░рж╛рж╕рж░рж┐ рж╣рзЛрж╕рзНржЯ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯ ржирж╛ ржХрж░рзЛред ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржоржзрзНржпрзЗ `rm -rf /` ржХрж░рж▓рзЗ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржлрж╛ржЗрж▓ рж╕рж┐рж╕рзНржЯрзЗржо ржорзБржЫрзЗ ржпрж╛ржмрзЗ, ржХрж┐ржирзНрждрзБ рж╣рзЛрж╕рзНржЯ рж╕рж┐рж╕рзНржЯрзЗржорзЗ ржХрж┐ржЫрзБржЗ ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржмрзЗ ржирж╛ред

#### 3. **PID 1 Concept**
- **PID 1**: рж▓рж┐ржирж╛ржХрзНрж╕рзЗ ржкрзНрж░ржержо ржкрзНрж░рж╕рзЗрж╕ржЯрж┐ рж╣рж▓рзЛ PID 1, ржпрж╛ ржкрзБрж░рзЛ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ ржЬржирзНржп ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯрж┐ржн рж░рзБржЯ ржкрзНрж░рж╕рзЗрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред
- ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржоржзрзНржпрзЗ, ржпржЦржи рждрзБржорж┐ ржХрзЛржирзЛ ржХржорж╛ржирзНржб рж░рж╛ржи ржХрж░рзЛ (ржпрзЗржоржи `docker run`), рждржЦржи ржпрзЗ ржкрзНрж░рж╕рзЗрж╕ ржкрзНрж░ржержорзЗ ржЪрж╛рж▓рзБ рж╣рзЯ, рж╕рзЗржЯрж┐ржЗ PID 1ред ржПржЯрж╛ ржпржжрж┐ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛рзЯ, ржкрзБрж░рзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛ржмрзЗред
- ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржоржзрзНржпрзЗ **PID 1** ржПржХржЯрж┐ ржмрж┐рж╢рзЗрж╖ ржЧрзБрж░рзБрждрзНржм ржмрж╣ржи ржХрж░рзЗ, ржХрж╛рж░ржг ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржЬрзАржмржи ржПржмржВ ржорзГрждрзНржпрзБрж░ ржирж┐рзЯржирзНрждрзНрж░ржг ржПржЗ ржкрзНрж░рж╕рзЗрж╕рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗред

#### 4. **SIGTERM vs SIGKILL**
- **SIGTERM**: ржПржЗ рж╕рж┐ржЧржирзНржпрж╛рж▓ржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ржХрзЗ ржмржирзНржз ржХрж░рждрзЗ ржмрж▓рзЗ, ржХрж┐ржирзНрждрзБ ржПржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ржХрзЗ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржмржирзНржз рж╣рждрзЗ рж╕ржорзЯ ржжрзЗрзЯред 
  - ржПржЯрж┐ ржПржХржЯрж┐ ржЧрзНрж░рзЗрж╕ржлрзБрж▓ рж╢рж╛ржЯржбрж╛ржЙржи рж╕рж┐ржЧржирзНржпрж╛рж▓ред
  - ржпржжрж┐ рж╕рж┐рж╕рзНржЯрзЗржоржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ржХрзЗ ржмржирзНржз ржХрж░рждрзЗ ржЪрж╛рзЯ, рждржмрзЗ ржПржЯрж┐ SIGTERM ржкрж╛ржарж╛рзЯред
  - ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржоржзрзНржпрзЗ `docker stop` ржХржорж╛ржирзНржб ржЪрж╛рж▓рж╛рж▓рзЗ SIGTERM рж╕рж┐ржЧржирзНржпрж╛рж▓ржЯрж┐ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред

- **SIGKILL**: ржпржжрж┐ SIGTERM рж╕рж┐ржЧржирзНржпрж╛рж▓ ржХрзЛржирзЛ ржХрж╛рж░ржгрзЗ ржХрж╛ржЬ ржирж╛ ржХрж░рзЗ, рждржЦржи рж╕рж┐рж╕рзНржЯрзЗржо **SIGKILL** ржкрж╛ржарж╛рзЯ, ржпрж╛ ржкрзНрж░рж╕рзЗрж╕ржХрзЗ ржЕржмрж┐рж▓ржорзНржмрзЗ ржПржмржВ ржЖржирж▓рж┐рж╕рзНржЯрзЗржбржнрж╛ржмрзЗ ржмржирзНржз ржХрж░рзЗ ржжрзЗрзЯред
  - ржПржЯрж┐ ржЧрзНрж░рзЗрж╕ржлрзБрж▓ рж╢рж╛ржЯржбрж╛ржЙржи ржирзЯ, ржПржЯрж┐ ржжрзНрж░рзБржд ржПржмржВ ржЬржмрж░ржжрж╕рзНржд ржмржирзНржз ржХрж░рж╛рж░ ржПржХржЯрж┐ ржЙржкрж╛рзЯред

#### 5. **Memory Limit Concept**
- **Memory Limit**: Docker ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржЬржирзНржп **memory limit** ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╣рзЯред ржПрж░ ржорж╛ржирзЗ рж╣рж▓рзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржкрж░рж┐ржорж╛ржг RAM ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред
- ржпржжрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржоржзрзНржпрзЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ ржЕрждрж┐рж░рж┐ржХрзНржд ржорзЗржорж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржЪрж╛рзЯ, рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ **out-of-memory (OOM)** рж╣рзЯрзЗ ржпрж╛ржмрзЗ ржПржмржВ ржХржирзНржЯрзЗржЗржирж╛рж░ ржмржирзНржз рж╣рзЯрзЗ ржпрж╛ржмрзЗред
  - ржПржЯрж┐ ржПржХ ржзрж░ржирзЗрж░ **safety net** ржпрзЗржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржЕрждрж┐рж░рж┐ржХрзНржд рж░рж┐рж╕рзЛрж░рзНрж╕ ржЦрж░ржЪ ржарзЗржХрж╛ржирзЛрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред

---

### тЭУ **Questions**:
- **Docker stop ржжрж┐рж▓рзЗ ржнрж┐рждрж░рзЗ ржХрзА ржШржЯрзЗ?**
  - ржпржЦржи `docker stop` ржХржорж╛ржирзНржб ржжрзЗржУрзЯрж╛ рж╣рзЯ, ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ **SIGTERM** рж╕рж┐ржЧржирзНржпрж╛рж▓ ржкрж╛ржарж╛ржирзЛ рж╣рзЯред ржПржЯрж┐рж░ ржлрж▓рзЗ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржорзВрж▓ ржкрзНрж░рж╕рзЗрж╕ (PID 1) ржЧрзНрж░рзЗрж╕ржлрзБрж▓ржнрж╛ржмрзЗ ржмржирзНржз рж╣рждрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ, ржПржмржВ ржХржирзНржЯрзЗржЗржирж╛рж░ржЯрж┐ ржзрзАрж░рзЗ ржзрзАрж░рзЗ рж╢рж╛ржЯржбрж╛ржЙржи рж╣рзЯред

- **PID 1 special ржХрзЗржи?**
  - ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ **PID 1** рж╣рж▓рзЛ рж╕рзЗржЗ ржкрзНрж░рж╕рзЗрж╕ ржпрж╛ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржЬрзАржмржи ржирж┐рзЯржирзНрждрзНрж░ржг ржХрж░рзЗред ржПржЯрж┐ ржирж╛ ржерж╛ржХрж▓рзЗ ржХржирзНржЯрзЗржЗржирж╛рж░ ржорж░рзЗ ржпрж╛рзЯ, ржХрж╛рж░ржг ржПржЯрж╛ ржкрзНрж░ржержорзЗ ржЪрж▓рзЗ ржПржмржВ ржкрж░ржмрж░рзНрждрзА ржкрзНрж░рж╕рзЗрж╕ржЧрзБрж▓рзЛрж░ ржЬржирзНржп parent ржкрзНрж░рж╕рзЗрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

- **Memory limit ржжрж┐рж▓рзЗ app ржХрзЗржи ржорж╛рж░рж╛ ржпрж╛рзЯ?**
  - ржпржЦржи **memory limit** ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛ рж╣рзЯ ржПржмржВ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ рждрж╛рж░ рж╕рзАржорж╛ ржЫрж╛рзЬрж┐рзЯрзЗ ржпрж╛рзЯ, рждржЦржи ржПржЯрж┐ **out-of-memory (OOM)** рж╣рзЯрзЗ ржпрж╛рзЯ ржПржмржВ рж╕рж┐рж╕рзНржЯрзЗржо ржХржирзНржЯрзЗржЗржирж╛рж░ржХрзЗ ржмржирзНржз ржХрж░рзЗ ржжрзЗрзЯред

---

### ЁЯЫая╕П **Practice**:

#### 1. **Run Alpine with Shell (Interactive Mode)**:
- ржПржЦржи рждрзБржорж┐ **alpine** ржХржирзНржЯрзЗржЗржирж╛рж░ рж░рж╛ржи ржХрж░рзЗ рждрж╛рж░ рж╢рзЗрж▓рзЗрж░ ржнрж┐рждрж░рзЗ ржкрзНрж░ржмрзЗрж╢ ржХрж░ржмрзЗред Alpine ржПржХржЯрж┐ рж▓рж╛ржЗржЯржУрзЯрзЗржЯ рж▓рж┐ржирж╛ржХрзНрж╕ ржбрж┐рж╕рзНржЯрзНрж░рж┐ржмрж┐ржЙрж╢ржи, ржпрж╛ рж╕рж╛ржзрж╛рж░ржгржд Docker ржЗржорзЗржЬ рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред

```bash
docker run -it alpine sh
